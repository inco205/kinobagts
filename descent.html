<script>
  const urlParams = new URLSearchParams(window.location.search);
  const authParam = urlParams.get('auth');

  let decoded = "";
  try {
    decoded = atob(authParam || "");
  } catch (e) {
    decoded = "";
  }

  const isCorrectAuth = decoded === "fbgroup=1223001576002236";

  if (!isCorrectAuth) {
    window.location.href = "access-denied.html";
  }

  // Show refresh button after 5 seconds
  setTimeout(() => {
    document.getElementById('refreshBtn').style.display = 'block';
  }, 5000);

  // Reload with auth token preserved
  function refreshWithAuth() {
    const currentUrl = new URL(window.location.href);
    window.location.href = `${currentUrl.pathname}?auth=${authParam}`;
  }
</script>
